<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 class="page-title">Mix Or Match</h1>
    <button id="start-game-btn">بدء اللعبة</button>
    <div id="message-box" style="display: none;">
        <p id="message-text">انتهت اللعبة! لقد خسرت.</p>
        <button id="restart-btn">بدء لعبة جديدة</button>
    </div>

    <div class="game-container">
        <div class="game-info-container">
            <div class="game-info">
                Time: <span id="time-remaining">100</span>
            </div>
            <div class="game-info">
                Flips <span id="flips">0</span>
            </div>
        </div>

        <div class="card ">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/foureyes.png" >
            </div>

        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/dainasor.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/pink.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/orange.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/green.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/purple.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/lightgreen.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/green.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/orangeoneeye.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/orange.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/purple.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/orangeoneeye.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/pink.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/dainasor.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/lightgreen.png" >
            </div>


        </div>
        <div class="card">

            <div class="card-back card-face">
                <img class="back" src="images/front.png" >
            </div>

            <div class="card-front card-face">
                <img class="card-value" src="images/foureyes.png" >
            </div>
        </div>
        
    </div>
   

    <script>
        
        document.addEventListener('DOMContentLoaded', function () {
    const startGameBtn = document.getElementById('start-game-btn');
    const flipsDisplay = document.getElementById('flips');
    const timeDisplay = document.getElementById('time-remaining');
    const messageBox = document.getElementById('message-box');
    const messageText = document.getElementById('message-text');
    const restartBtn = document.getElementById('restart-btn');
    const gameContainer = document.querySelector('.game-container');
    let flipsCount = 0;
    let timeRemaining = 10;
    let gameStarted = false;
    let hasFlippedCard = false;
    let lockBoard = false;
    let firstCard, secondCard;
    let timer;
    const cards = document.querySelectorAll('.card');

    function updateTime() {
        timeRemaining--;
        timeDisplay.textContent = timeRemaining;

        if (timeRemaining === 0) {
            clearInterval(timer);
            messageText.textContent = "انتهت اللعبة! لقد خسرت.";
            messageBox.style.display = "block";
        }
    }

    function handleFlip() {
        flipsCount++; 
        flipsDisplay.textContent = flipsCount;
    }

    function startGame() {
        if (!gameStarted) {
            gameStarted = true;
            startGameBtn.disabled = true;

            timeRemaining = 10; // إعادة تعيين الوقت
            timeDisplay.textContent = timeRemaining;
            timer = setInterval(updateTime, 1000);

            cards.forEach(card => card.addEventListener('click', handleFlip));
        }
    }

    // ابدأ اللعبة عند تحميل الصفحة
    startGame();

    startGameBtn.addEventListener('click', startGame);

    restartBtn.addEventListener('click', function() {
        messageBox.style.display = "none";
        startGame();
    });
   
    

    

    function flipCard() {
        if (lockBoard) return;
        if (this === firstCard) return;

        this.classList.add('visible');

        if (!hasFlippedCard) {
            hasFlippedCard = true;
            firstCard = this;
            return;
        }

        secondCard = this;
        checkForMatch();
    }

    function checkForMatch() {
        let isMatch = firstCard.querySelector('.card-value').src === secondCard.querySelector('.card-value').src;

        isMatch ? disableCards() : unflipCards();
    }

    function disableCards() {
        firstCard.removeEventListener('click', flipCard);
        secondCard.removeEventListener('click', flipCard);

        resetBoard();
    }

    function unflipCards() {
        lockBoard = true;

        setTimeout(() => {
            firstCard.classList.remove('visible');
            secondCard.classList.remove('visible');

            resetBoard();
        }, 1000);
    }

    function resetBoard() {
        [hasFlippedCard, lockBoard] = [false, false];
        [firstCard, secondCard] = [null, null];
    }

    (function shuffle() {
        cards.forEach(card => {
            let randomPos = Math.floor(Math.random() * 16);
            card.style.order = randomPos;
        });
    })();

    cards.forEach(card => card.addEventListener('click', flipCard));


    
   
/*
    // Generate card HTML
    function generateCardHTML(cardIndex) {
        return `
            <div class="card" data-index="${cardIndex}">
                <span class="card-value">Card ${cardIndex + 1}</span>
            </div>
        `;
    }

    // Generate cards
    function generateCards() {
        const cardsHTML = Array.from({ length: 16 }, (_, index) => generateCardHTML(index));
        gameContainer.innerHTML = cardsHTML.join('');
    }

    // Start the game
    function startGame() {
        generateCards();
        showGame();
    }

    // Show the game
    function showGame() {
        document.querySelector('.page-title').style.display = 'none';
        startGameBtn.style.display = 'none';
        gameContainer.style.display = 'flex';
    }

    // Show loss message
    function showLossMessage() {
        messageBox.style.display = 'block';
    }

    // Restart the game
    function restartGame() {
        messageBox.style.display = 'none';
        startGame();
    }
*/
    // Event listeners
    startGameBtn.addEventListener('click', startGame);
    restartBtn.addEventListener('click', restartGame);
});



        </script>
</body>
</html>